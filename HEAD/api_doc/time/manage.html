

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>tprofiler.time.manage &mdash; tprofiler 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=4ae1632d" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=c9d0a6ec" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=d45e8c67"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="tprofiler.time.wrapper" href="wrapper.html" />
    <link rel="prev" title="tprofiler.time" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            tprofiler
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/installation/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/quick_start/index.html">Quick Start</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../information/environment.result.html">Run Environment Information</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../config/index.html">tprofiler.config</a></li>
<li class="toctree-l1"><a class="reference internal" href="../distribution/index.html">tprofiler.distribution</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">tprofiler.time</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">tprofiler.time.manage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#timemanager">TimeManager</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#tprofiler.time.manage.TimeManager"><code class="docutils literal notranslate"><span class="pre">TimeManager</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#gatheredtime">GatheredTime</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#tprofiler.time.manage.GatheredTime"><code class="docutils literal notranslate"><span class="pre">GatheredTime</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="wrapper.html">tprofiler.time.wrapper</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../utils/index.html">tprofiler.utils</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">tprofiler</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">tprofiler.time</a></li>
      <li class="breadcrumb-item active">tprofiler.time.manage</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/api_doc/time/manage.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
    
    
  <section id="module-tprofiler.time.manage">
<span id="tprofiler-time-manage"></span><h1>tprofiler.time.manage<a class="headerlink" href="#module-tprofiler.time.manage" title="Link to this heading"></a></h1>
<p>Time measurement and profiling utilities for distributed PyTorch applications.</p>
<p>This module provides comprehensive timing functionality for distributed training scenarios,
including context managers for timing code blocks, gathering timing data across processes,
and visualization tools for analyzing performance metrics.</p>
<p>The main components include:</p>
<ul class="simple">
<li><p>TimeManager: Core timing functionality with context managers</p></li>
<li><p>GatheredTime: Analysis and visualization of distributed timing data</p></li>
</ul>
<section id="timemanager">
<h2>TimeManager<a class="headerlink" href="#timemanager" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="tprofiler.time.manage.TimeManager">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tprofiler.time.manage.</span></span><span class="sig-name descname"><span class="pre">TimeManager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">records:</span> <span class="pre">~typing.Dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">~typing.List[float]]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/tprofiler/time/manage.html#TimeManager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tprofiler.time.manage.TimeManager" title="Link to this definition"></a></dt>
<dd><p>A comprehensive time measurement manager for tracking execution times.</p>
<p>This class provides functionality to measure and record execution times for different
operations, with support for distributed environments and context management.
It maintains timing records for named operations and provides context managers
for convenient timing measurement.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>records</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>List</em><em>[</em><em>float</em><em>]</em><em>]</em>) – Dictionary storing timing records for different operations.</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tm</span> <span class="o">=</span> <span class="n">TimeManager</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">tm</span><span class="o">.</span><span class="n">timer</span><span class="p">(</span><span class="s1">&#39;operation1&#39;</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">times</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">_get_time</span><span class="p">(</span><span class="s1">&#39;operation1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">times</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
<span class="go">True</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="tprofiler.time.manage.TimeManager._append_time">
<span class="sig-name descname"><span class="pre">_append_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/tprofiler/time/manage.html#TimeManager._append_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tprofiler.time.manage.TimeManager._append_time" title="Link to this definition"></a></dt>
<dd><p>Append a timing record for the specified operation.</p>
<p>This method adds a new timing measurement to the records for the given
operation name. If this is the first measurement for the operation,
a new list is created.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of the operation being timed.</p></li>
<li><p><strong>secs</strong> (<em>float</em>) – The execution time in seconds.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tprofiler.time.manage.TimeManager._get_time">
<span class="sig-name descname"><span class="pre">_get_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/tprofiler/time/manage.html#TimeManager._get_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tprofiler.time.manage.TimeManager._get_time" title="Link to this definition"></a></dt>
<dd><p>Get all timing records for a specific operation.</p>
<p>Retrieves the complete list of timing measurements recorded for the
specified operation name. Returns an empty list if no measurements
have been recorded for this operation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of the operation.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of timing records in seconds.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tprofiler.time.manage.TimeManager._get_time_torch">
<span class="sig-name descname"><span class="pre">_get_time_torch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tensor</span></span></span><a class="reference internal" href="../../_modules/tprofiler/time/manage.html#TimeManager._get_time_torch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tprofiler.time.manage.TimeManager._get_time_torch" title="Link to this definition"></a></dt>
<dd><p>Get timing records as a PyTorch tensor.</p>
<p>Converts the timing records for the specified operation into a
PyTorch tensor with float32 dtype. This is useful for mathematical
operations and distributed gathering.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of the operation.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Timing records as a float32 tensor.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>torch.Tensor</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tprofiler.time.manage.TimeManager._get_time_with_rank">
<span class="sig-name descname"><span class="pre">_get_time_with_rank</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tensor</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/tprofiler/time/manage.html#TimeManager._get_time_with_rank"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tprofiler.time.manage.TimeManager._get_time_with_rank" title="Link to this definition"></a></dt>
<dd><p>Get timing records along with corresponding rank information.</p>
<p>Returns timing data paired with rank information for distributed
environments. Each timing measurement is associated with the current
process rank.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of the operation.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of (times, ranks) tensors.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[torch.Tensor, torch.Tensor]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tprofiler.time.manage.TimeManager.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/tprofiler/time/manage.html#TimeManager.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tprofiler.time.manage.TimeManager.clear" title="Link to this definition"></a></dt>
<dd><p>Clear all timing records.</p>
<p>Removes all recorded timing data from this TimeManager instance,
effectively resetting it to a clean state.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tprofiler.time.manage.TimeManager.enable_timer">
<span class="sig-name descname"><span class="pre">enable_timer</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/tprofiler/time/manage.html#TimeManager.enable_timer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tprofiler.time.manage.TimeManager.enable_timer" title="Link to this definition"></a></dt>
<dd><p>Context manager to enable this TimeManager in the timer stack.</p>
<p>This method pushes the current TimeManager instance onto the timer stack,
making it available for use by timer decorators and context managers
throughout the nested execution context. The TimeManager is automatically
removed from the stack when the context exits.</p>
<dl class="field-list simple">
<dt class="field-odd">Yields<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tm</span> <span class="o">=</span> <span class="n">TimeManager</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">tm</span><span class="o">.</span><span class="n">enable_timer</span><span class="p">():</span>
<span class="gp">... </span>    <span class="c1"># Now timer decorators and contexts will use this TimeManager</span>
<span class="gp">... </span>    <span class="k">with</span> <span class="n">timer</span><span class="p">(</span><span class="s1">&#39;operation&#39;</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">pass</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tprofiler.time.manage.TimeManager.gather">
<span class="sig-name descname"><span class="pre">gather</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dst</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#tprofiler.time.manage.GatheredTime" title="tprofiler.time.manage.GatheredTime"><span class="pre">GatheredTime</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../../_modules/tprofiler/time/manage.html#TimeManager.gather"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tprofiler.time.manage.TimeManager.gather" title="Link to this definition"></a></dt>
<dd><p>Gather timing data from all processes in a distributed environment.</p>
<p>Collects timing measurements from all processes in the distributed group
and returns them as GatheredTime objects for analysis. This is useful
for understanding performance characteristics across the entire distributed
training setup.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dst</strong> (<em>Optional</em><em>[</em><em>int</em><em>]</em>) – Destination rank to gather data to. If None, gathers to all ranks.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary of gathered timing data, or None if not the destination rank.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[Dict[str, <a class="reference internal" href="#tprofiler.time.manage.GatheredTime" title="tprofiler.time.manage.GatheredTime">GatheredTime</a>]]</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tm</span> <span class="o">=</span> <span class="n">TimeManager</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># After recording some times...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gathered</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="n">dst</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># Gather to rank 0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tprofiler.time.manage.TimeManager.timer">
<span class="sig-name descname"><span class="pre">timer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/tprofiler/time/manage.html#TimeManager.timer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tprofiler.time.manage.TimeManager.timer" title="Link to this definition"></a></dt>
<dd><p>Context manager for timing code execution.</p>
<p>This context manager measures the execution time of the code block
within it and automatically records the timing under the specified name.
It uses high-precision time measurement and is suitable for both
short and long-running operations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name to associate with this timing measurement.</p>
</dd>
<dt class="field-even">Yields<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tm</span> <span class="o">=</span> <span class="n">TimeManager</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">tm</span><span class="o">.</span><span class="n">timer</span><span class="p">(</span><span class="s1">&#39;my_operation&#39;</span><span class="p">):</span>
<span class="gp">... </span>    <span class="c1"># Your code here</span>
<span class="gp">... </span>    <span class="k">pass</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>
<section id="gatheredtime">
<h2>GatheredTime<a class="headerlink" href="#gatheredtime" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="tprofiler.time.manage.GatheredTime">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tprofiler.time.manage.</span></span><span class="sig-name descname"><span class="pre">GatheredTime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">times</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tensor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ranks</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tensor</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/tprofiler/time/manage.html#GatheredTime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tprofiler.time.manage.GatheredTime" title="Link to this definition"></a></dt>
<dd><p>Container for timing data gathered from multiple processes.</p>
<p>This class provides analysis and visualization capabilities for timing data
collected from distributed training environments. It maintains timing
measurements along with their corresponding process ranks, enabling
detailed performance analysis across the distributed system.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>times</strong> (<em>torch.Tensor</em>) – Tensor containing timing measurements.</p></li>
<li><p><strong>ranks</strong> (<em>torch.Tensor</em>) – Tensor containing corresponding rank information.</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">times</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.15</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ranks</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gt</span> <span class="o">=</span> <span class="n">GatheredTime</span><span class="p">(</span><span class="n">times</span><span class="p">,</span> <span class="n">ranks</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gt</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="go">0.15...</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="tprofiler.time.manage.GatheredTime.__bool__">
<span class="sig-name descname"><span class="pre">__bool__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/tprofiler/time/manage.html#GatheredTime.__bool__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tprofiler.time.manage.GatheredTime.__bool__" title="Link to this definition"></a></dt>
<dd><p>Check if the gathered time data is non-empty.</p>
<p>Returns True if there are timing measurements available, False if
the data structure is empty.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if there is timing data, False otherwise.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tprofiler.time.manage.GatheredTime.__getitem__">
<span class="sig-name descname"><span class="pre">__getitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#tprofiler.time.manage.GatheredTime" title="tprofiler.time.manage.GatheredTime"><span class="pre">GatheredTime</span></a></span></span><a class="reference internal" href="../../_modules/tprofiler/time/manage.html#GatheredTime.__getitem__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tprofiler.time.manage.GatheredTime.__getitem__" title="Link to this definition"></a></dt>
<dd><p>Get a subset of the gathered time data using indexing.</p>
<p>Supports standard Python indexing and slicing operations to extract
subsets of the timing data while maintaining the correspondence
between times and ranks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>item</strong> – Index or slice to apply to the data.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>New GatheredTime instance with indexed data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#tprofiler.time.manage.GatheredTime" title="tprofiler.time.manage.GatheredTime">GatheredTime</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tprofiler.time.manage.GatheredTime.count">
<span class="sig-name descname"><span class="pre">count</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="../../_modules/tprofiler/time/manage.html#GatheredTime.count"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tprofiler.time.manage.GatheredTime.count" title="Link to this definition"></a></dt>
<dd><p>Get the total number of timing measurements.</p>
<p>Returns the total count of timing measurements across all ranks,
which indicates how many times the measured operation was executed.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of timing measurements.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tprofiler.time.manage.GatheredTime.get_rank">
<span class="sig-name descname"><span class="pre">get_rank</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">ranks</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#tprofiler.time.manage.GatheredTime" title="tprofiler.time.manage.GatheredTime"><span class="pre">GatheredTime</span></a></span></span><a class="reference internal" href="../../_modules/tprofiler/time/manage.html#GatheredTime.get_rank"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tprofiler.time.manage.GatheredTime.get_rank" title="Link to this definition"></a></dt>
<dd><p>Filter timing data for specific ranks.</p>
<p>Creates a new GatheredTime instance containing only the timing data
from the specified process ranks. This is useful for analyzing
performance characteristics of specific processes or comparing
performance across different ranks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ranks</strong> (<em>int</em>) – Rank numbers to filter for.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>New GatheredTime instance with filtered data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#tprofiler.time.manage.GatheredTime" title="tprofiler.time.manage.GatheredTime">GatheredTime</a></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gt</span> <span class="o">=</span> <span class="n">GatheredTime</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">]),</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rank0_data</span> <span class="o">=</span> <span class="n">gt</span><span class="o">.</span><span class="n">get_rank</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tprofiler.time.manage.GatheredTime.hist">
<span class="sig-name descname"><span class="pre">hist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">separate_ranks</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/tprofiler/time/manage.html#GatheredTime.hist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tprofiler.time.manage.GatheredTime.hist" title="Link to this definition"></a></dt>
<dd><p>Plot histogram of timing distribution.</p>
<p>Creates a histogram visualization of the timing data distribution,
with options to show all ranks together or separately. This is useful
for understanding the performance characteristics and identifying
outliers or patterns in execution times.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bins</strong> (<em>Optional</em><em>[</em><em>int</em><em>]</em>) – Number of histogram bins. If None, uses matplotlib default.</p></li>
<li><p><strong>separate_ranks</strong> (<em>bool</em>) – Whether to show each rank separately.</p></li>
<li><p><strong>alpha</strong> (<em>float</em>) – Transparency level when separate_ranks=True.</p></li>
<li><p><strong>title</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – Title for the plot. Defaults to ‘Time Distribution’.</p></li>
<li><p><strong>ax</strong> (<em>Optional</em><em>[</em><em>matplotlib.axes.Axes</em><em>]</em>) – Matplotlib axes object for plotting. If None, uses current axes.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – Additional arguments passed to matplotlib hist function.</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gt</span> <span class="o">=</span> <span class="n">GatheredTime</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.15</span><span class="p">]),</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tprofiler.time.manage.GatheredTime.mean">
<span class="sig-name descname"><span class="pre">mean</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="../../_modules/tprofiler/time/manage.html#GatheredTime.mean"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tprofiler.time.manage.GatheredTime.mean" title="Link to this definition"></a></dt>
<dd><p>Calculate the mean of all timing measurements.</p>
<p>Computes the average execution time across all measurements and ranks,
providing a central tendency measure for the operation performance.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Mean time in seconds.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tprofiler.time.manage.GatheredTime.rank_count">
<span class="sig-name descname"><span class="pre">rank_count</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="../../_modules/tprofiler/time/manage.html#GatheredTime.rank_count"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tprofiler.time.manage.GatheredTime.rank_count" title="Link to this definition"></a></dt>
<dd><p>Get the number of unique ranks in the data.</p>
<p>Returns the count of distinct process ranks represented in the
gathered timing data, indicating how many processes contributed
measurements.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of unique ranks.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tprofiler.time.manage.GatheredTime.std">
<span class="sig-name descname"><span class="pre">std</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="../../_modules/tprofiler/time/manage.html#GatheredTime.std"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tprofiler.time.manage.GatheredTime.std" title="Link to this definition"></a></dt>
<dd><p>Calculate the standard deviation of timing measurements.</p>
<p>Computes the standard deviation to measure the variability in
execution times, which can indicate performance consistency
across processes and executions.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Standard deviation in seconds.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tprofiler.time.manage.GatheredTime.sum">
<span class="sig-name descname"><span class="pre">sum</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="../../_modules/tprofiler/time/manage.html#GatheredTime.sum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tprofiler.time.manage.GatheredTime.sum" title="Link to this definition"></a></dt>
<dd><p>Calculate the sum of all timing measurements.</p>
<p>Computes the total time across all measurements, which can be useful
for understanding the cumulative time spent on an operation across
all processes.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Sum of all times in seconds.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>



           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="tprofiler.time" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="wrapper.html" class="btn btn-neutral float-right" title="tprofiler.time.wrapper" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, hansbug.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  
    <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: HEAD
    <span class="fa fa-caret-down"></span>
  </span>
        <div class="rst-other-versions">
                <dl>
                    <dt>Branches</dt>
                        <dd><a href="../../../main/api_doc/time/manage.html">main</a></dd>
                        <dd><a href="manage.html">HEAD</a></dd>
                </dl>
        </div>
    </div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>